<!--
<form class="mx-5 mt-5 needs-validation">

    <div class="mb-2">
        <label for="exampleInputEmail1" class="form-label">Name</label>
        <input type="text" class="form-control" required>
    </div>

    <div class="mb-3">
        <label for="exampleInputEmail1" class="form-label">Last name</label>
        <input type="text" class="form-control" required>
        <div class="form-text">We'll never share your personal data with anyone else.</div>
    </div>
    <label for="exampleDataList" class="form-label">Chose the service you're looking for:</label>
    <input class="form-control" list="datalistOptions" placeholder="Type to search..." required>
    <datalist id="datalistOptions">
        <option value="Static website">
        <option value="CMS website">
        <option value="E-Commerce">
        <option value="Management service">
        <option value="IoT service">
        <option value="IA service">
    </datalist>

    <label for="date" class="col-12 col-form-label mt-2"> Do you need a domain? </label>
    <div class="">
        <div>
            <input type="radio" name="choice" value="option1" (click)="showInput = true" [checked]="showInput"> yes
            <input type="radio" name="choice" value="option2" (click)="showInput = false" [checked]="!showInput"> no
          </div>
          
          <div *ngIf="showInput">
            <input type="text" id="input-field" [(ngModel)]="inputValue" (input)="checkInputValue(inputValue)">

            <div *ngIf="showError">
                Errore: la parola inserita non è valida.
              </div>              
          </div>
    </div>

    <div class="mt-2">
        <label for="exampleInputEmail1" class="form-label">Enter your domain:</label>
        <input type="text" class="form-control" required>
    </div>

    <div>
        <form class="row-2">
            <label for="date" class="col-12 col-form-label mt-2">When do you need it? </label>
            <div class="col-12">
                <div class="input-group date" id="datepicker">
                    <input type="date" class="form-control" id="date" required />
                </div>
            </div>
        </form>
    </div>

    <label for="date" class="col-12 col-form-label mt-2"> Select the maintenance package: </label>
    <div class="d-flex justify-content-evenly">

        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1">
            <label class="form-check-label" for="inlineRadio1">1 month</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2">
            <label class="form-check-label" for="inlineRadio2">6 months</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2">
            <label class="form-check-label" for="inlineRadio2">1 year</label>
        </div>
    </div>

    <div class="d-flex justify-content-around mx-2 mt-4">
        <button type="submit" class="btn btn-primary col-6 ms-3" id="submitButton">Submit</button>
        <button type="button" (click)="onSubmit()">Invia</button>
        <button type="reset" class="btn btn-danger col-4 ms-3" id="resetButton">Reset</button>
    </div>

</form>
-->
<link rel="stylesheet" href="./preventivo.component.css" />

<section class="d-flex justify-content-center align-items-center" style="background-color: #C1E0EA">

        <form class="container col-12 d-flex flex-column flex-lg-row my-5 py-5" [formGroup]="myForm" (ngSubmit)="submit()">
            <div class="shadow d-flex flex-column text-light col-lg-6 col-12 p-5 border rounded-5 me-lg-2" style="background-color: rgb(15, 76, 129);">
                <div class="mb-2 col-12">
                    <label class="form-label text-light">Name</label>
                    <input formControlName="name" placeholder="name" name="name" type="text" id="NameRequired"
                        class="form-control">
                </div>

                <div class="mb-3 col-12">
                    <label class="form-label text-light">Last name</label>
                    <input formControlName="lastName" placeholder="last name" name="lastName" type="text"
                        id="LastNameRequired" class="form-control">
                    <div class="form-text text-light">We'll never share your personal data with anyone else.</div>
                </div>

                <label class="mb-1" for="services">Chose a service:</label>
                <select formControlName="service" class="form-select" id="services" name="services">
                    <option value="">Chose a service</option>
                    <option value="50">Static website</option>
                    <option value="100">CMS</option>
                    <option value="150">E-Commerce</option>
                    <option value="200">management services</option>
                    <option value="250">IoT services</option>
                    <option value="300">IA services</option>
                </select>

                <div class="d-flex justify-content-center">
                    <label class="mt-3 mb-2" for="extra">Do you need a domain?</label>
                </div>

                <div class="container d-flex justify-content-around">
                    <div class="form-check">
                        <input formControlName="domain" class="form-check-input" type="radio" id="domain" value="50">
                        Yes
                    </div>

                    <div class="form-check">
                        <input formControlName="domain" class="form-check-input" type="radio" id="domain" value="0">
                        No
                    </div>
                </div>

                <div *ngIf="myForm.get('domain')?.value === '50'" class="mt-2">
                    <input type="text" formControlName="domainName" class="form-control " id="extraText"
                        name="domainName" placeholder="enter your domain">
                </div>

                <div *ngIf="myForm.get('domain')?.value === '50' && message" class="card p-3 text-dark border border-3 fw-bold">{{
                    message }}</div>

                <div class="d-flex justify-content-center">
                    <label class="mt-3 mb-2" for="extra">Select the maintenance package:</label>
                </div>
                <div class="d-flex justify-content-evenly">

                    <div class="form-check form-check-inline">
                        <input class="form-check-input" formControlName="maintenance" type="radio" id="1month"
                            value="50">
                        <label class="form-check-label">1 month</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" formControlName="maintenance" type="radio" id="6months"
                            value="100">
                        <label class="form-check-label">6 months</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" formControlName="maintenance" type="radio" id="1year"
                            value="200">
                        <label class="form-check-label">1 year</label>
                    </div>
                </div>

                <label for="date" class="col-12 col-form-label mt-2 text-light">When do you need it? </label>
                <div class="col-12">
                    <div class="input-group date" id="datepicker">
                        <input type="date" formControlName="date" class="form-control" id="DateRequired" />
                    </div>
                </div>
            </div>
            <div class="shadow position-relative d-flex flex-column-reverse bg bg-light rounded-5 ms-lg-2 p-5 col-lg-6 col-12">

                <div class="card position-absolute z-1 p-5 d-none d-xl-block" style="top: -3%; right: -2%;
                background-color:  rgb(15, 76, 129);
                ">
                <i class="fa-solid fa-briefcase text-light " style="font-size: 6em"></i>
            </div>

                <div class="d-flex mx-2 my-4 justify-content-around">
                    <button type="submit" [disabled]="!myForm.valid" class="btn btn-primary col-6"
                        id="submitButton">Calcola</button>
                    <button type="reset" class="btn btn-danger col-4" id="resetButton">Reset</button>
                </div>

                <div *ngIf="myForm.invalid && myForm.touched"
                    class="form-control bg bg-danger text-uppercase text-light text-center mb-5 mx-auto mt-2"
                    aria-label="Disabled input example" disabled readonly>
                    <p class="m-auto p-2 fs-5"><strong>Compila tutti i campi !!</strong></p>
                </div>

                <div *ngIf="result !== undefined" class="card text-center m-5 mx-auto p-5" style="background-color: rgb(15, 76, 129);;">
                    <p class="fs-2 text-light">
                        <strong>Il costo totale è: </strong>
                    </p>
                    <span class="fs-2 mt-2 text-light" >{{ result }}€</span>
                </div>
            </div>
        </form>

</section>